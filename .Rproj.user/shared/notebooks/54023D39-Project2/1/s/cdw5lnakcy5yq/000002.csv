"0","library(glmnet)"
"0","fit5<-lm(checks~., data=Arrests)"
"0",""
"0","y<-as.matrix(Arrests$checks)"
"0","x<-Arrests%>%dplyr::select(year,age)%>%mutate_all(scale)%>%as.matrix"
"0",""
"0","cv<-cv.glmnet(x,y)"
"0",""
"0","lasso1<-glmnet(x,y,lambda=cv$lambda.1se)"
"0","coef(lasso1)"
"1","3 x 1 sparse Matrix of class ""dgCMatrix""
"
"1","           "
"1","         s0"
"1","
(Intercept)"
"1"," 1.63643322"
"1","
year       "
"1"," .         "
"1","
age        "
"1"," 0.07733951"
"1","
"
"0","set.seed(1234)"
"0","k=10 "
"0","data1<-Arrests[sample(nrow(Arrests)),]"
"0","folds<-cut(seq(1:nrow(Arrests)),breaks=k,labels=F)"
"0",""
"0","diags<-NULL"
"0","for(i in 1:k){"
"0","  train<-data1[folds!=i,]"
"0","  test<-data1[folds==i,]"
"0","  "
"0","  fit6<-lm(checks~age,data=train)"
"0","  yhat<-predict(fit,newdata=test)"
"0","  "
"0","  diags<-mean((test$checks-yhat)^2) "
"0","}"
"0","mean(diags)"
"1","[1]"
"1"," 2.218039"
"1","
"
"0","summary(fit5)"
"1","
Call:
"
"1",""
"1","lm(formula = checks ~ ., data = Arrests)"
"1",""
"1","

"
"1",""
"1","Residuals:
"
"1","    Min "
"1","     1Q "
"1"," Median "
"1","     3Q "
"1","    Max "
"1","
"
"1","-3.4961 "
"1","-1.2147 "
"1","-0.2164 "
"1"," 1.0411 "
"1"," 4.5327 "
"1","
"
"1","
Coefficients: ("
"1",""
"1","1"
"1",""
"1"," not defined because of singularities)
"
"1","           "
"1"," Estimate"
"1"," Std. Error"
"1"," t value"
"1"," Pr(>|t|)"
"1","    "
"1","
(Intercept)"
"1"," 94.24890"
"1","   29.53406"
"1","   3.191"
"1","  0.00143"
"1"," ** "
"1","
releasedYes"
"1"," -0.79571"
"1","    0.05412"
"1"," -14.703"
"1","  < 2e-16"
"1"," ***"
"1","
colourWhite"
"1"," -0.44588"
"1","    0.04766"
"1","  -9.355"
"1","  < 2e-16"
"1"," ***"
"1","
year       "
"1"," -0.04613"
"1","    0.01478"
"1","  -3.122"
"1","  0.00181"
"1"," ** "
"1","
age        "
"1","  0.01835"
"1","    0.00240"
"1","   7.645"
"1"," 2.47e-14"
"1"," ***"
"1","
sexMale    "
"1","  0.58591"
"1","    0.07130"
"1","   8.217"
"1"," 2.60e-16"
"1"," ***"
"1","
employedYes"
"1"," -0.70034"
"1","    0.04977"
"1"," -14.072"
"1","  < 2e-16"
"1"," ***"
"1","
citizenYes "
"1","  0.23941"
"1","    0.05977"
"1","   4.005"
"1"," 6.28e-05"
"1"," ***"
"1","
age_c      "
"1","       NA"
"1","         NA"
"1","      NA"
"1","       NA"
"1","    "
"1","
"
"1","---
Signif. codes:  "
"1",""
"1","0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1"
"1","
"
"1","
Residual standard error:"
"1"," "
"1","1.429"
"1"," "
"1","on"
"1"," "
"1","5218"
"1"," "
"1","degrees of freedom"
"1","
"
"1","Multiple R-squared: "
"1"," "
"1","0.1398"
"1",",	Adjusted R-squared: "
"1"," "
"1","0.1386"
"1"," "
"1","
F-statistic:"
"1"," "
"1","121.1"
"1"," "
"1","on"
"1"," "
"1","7"
"1"," "
"1","and"
"1"," "
"1","5218"
"1"," "
"1","DF,  p-value:"
"1"," "
"1","< 2.2e-16"
"1","
"
"1","
"
"0","summary(fit6)"
"1","
Call:
"
"1",""
"1","lm(formula = checks ~ age, data = train)"
"1",""
"1","

"
"1",""
"1","Residuals:
"
"1","    Min "
"1","     1Q "
"1"," Median "
"1","     3Q "
"1","    Max "
"1","
"
"1","-2.6082 "
"1","-1.4895 "
"1","-0.4363 "
"1"," 1.3507 "
"1"," 4.4838 "
"1","
"
"1","
Coefficients:
"
"1","           "
"1"," Estimate"
"1"," Std. Error"
"1"," t value"
"1"," Pr(>|t|)"
"1","    "
"1","
(Intercept)"
"1"," 1.010093"
"1","   0.067932"
"1","  14.869"
"1","   <2e-16"
"1"," ***"
"1","
age        "
"1"," 0.026635"
"1","   0.002695"
"1","   9.884"
"1","   <2e-16"
"1"," ***"
"1","
"
"1","---
Signif. codes:  "
"1",""
"1","0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1"
"1","
"
"1","
Residual standard error:"
"1"," "
"1","1.527"
"1"," "
"1","on"
"1"," "
"1","4701"
"1"," "
"1","degrees of freedom"
"1","
"
"1","Multiple R-squared: "
"1"," "
"1","0.02036"
"1",",	Adjusted R-squared: "
"1"," "
"1","0.02015"
"1"," "
"1","
F-statistic:"
"1"," "
"1"," 97.7"
"1"," "
"1","on"
"1"," "
"1","1"
"1"," "
"1","and"
"1"," "
"1","4701"
"1"," "
"1","DF,  p-value:"
"1"," "
"1","< 2.2e-16"
"1","
"
"1","
"
